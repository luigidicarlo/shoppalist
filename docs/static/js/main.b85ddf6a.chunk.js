(this["webpackJsonpshopping-list"]=this["webpackJsonpshopping-list"]||[]).push([[0],{20:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(11),i=a.n(c),l=a(5),r=a(8),o=a(12),m=a(2),d=a(4),j=a.n(d),b=a(22),u=a(0),x=function(e){var t=e.item,a=e.onEdit,n=e.onDelete,c=Object(s.useState)(!1),i=Object(m.a)(c,2),l=i[0],r=i[1];return Object(u.jsxs)("li",{className:"list-group-item",children:[Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(u.jsx)("h3",{className:"my-0 h5".concat(t.price<=0||t.quantity<=0?" text-danger":""),children:t.name}),Object(u.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){r(!l)},title:"".concat(l?"Ocultar":"Mostrar"," detalles de ").concat(t.name),children:Object(u.jsx)("i",{className:"fas ".concat(l?"fa-chevron-up":"fa-chevron-down")})})]}),l&&Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("p",{className:"my-0 fw-bold",children:Number(t.price).toFixed(3)}),Object(u.jsx)("p",{className:"text-secondary my-0",children:Object(u.jsx)("small",{children:"Precio"})})]}),Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(u.jsx)("p",{className:"my-0 fw-bold",children:Number(t.quantity).toFixed(3)}),Object(u.jsx)("p",{className:"text-secondary my-0",children:Object(u.jsx)("small",{children:"Cantidad"})})]}),Object(u.jsxs)("div",{className:"d-flex flex-column align-items-end",children:[Object(u.jsx)("p",{className:"my-0 fw-bold",children:(Number(t.price)*Number(t.quantity)).toFixed(3)}),Object(u.jsx)("p",{className:"text-secondary my-0",children:Object(u.jsx)("small",{children:"Subtotal"})})]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"d-flex align-items-center justify-content-center my-3",children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{type:"button",className:"btn btn-primary pe-3 me-3",onClick:function(){window.scrollTo(0,0),a(t)},children:[Object(u.jsx)("i",{className:"fas fa-edit me-1"}),Object(u.jsx)("span",{children:"Editar"})]}),Object(u.jsxs)("button",{type:"button",className:"btn btn-danger",onClick:function(){n(t.id)},children:[Object(u.jsx)("i",{className:"fas fa-trash me-1"}),Object(u.jsx)("span",{children:"Eliminar"})]})]})})]})]})},h=function(e){var t=e.items,a=e.deleteItem,s=e.setFormState,n=function(e){s({name:e.name,quantity:e.quantity,price:e.price,itemToEdit:e})};return Object(u.jsxs)("ul",{className:"list-group shadow-sm mb-4",children:[!t.length&&Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)("h2",{className:"text-center text-secondary",children:"No hay elementos para mostrar"})}),t.length>0&&Object(u.jsxs)("li",{className:"list-group-item",children:[Object(u.jsx)("h2",{className:"text-center my-0",children:Number(t.reduce((function(e,t){return Number(e+=(a=t,Number(a.quantity)*Number(a.price)));var a}),0)).toFixed(3)}),Object(u.jsx)("p",{className:"text-secondary text-center small",children:"Total"})]}),t.length>0&&t.map((function(e){return Object(u.jsx)(x,{item:e,onEdit:n,onDelete:a},e.id)}))]})},f=function(e){var t=e.items,a=e.setItems;return Object(u.jsxs)("header",{className:"bg-primary py-2 d-flex flex-wrap align-items-center justify-content-between text-white mb-3",children:[Object(u.jsxs)("h1",{className:"h3 m-0 ps-2",children:[Object(u.jsx)("i",{className:"fas fa-shopping-cart"})," Shoppalist"]}),Object(u.jsxs)("p",{className:"text-right m-0 d-flex align-items-center",children:[Object(u.jsx)("a",{className:"text-white mx-2",style:{textDecoration:"none"},href:"mailto:lehuertad95@gmail.com?subject=Shoppalist",title:"Cont\xe1ctame a trav\xe9s de lehuertad95@gmail.com",children:Object(u.jsx)("i",{className:"fas fa-envelope"})}),t.length>0&&Object(u.jsx)("button",{className:"text-white mx-2 btn p-0",style:{textDecoration:"none"},title:"Limpiar lista",onClick:function(){j()({title:"Limpiar lista",text:"\xbfDeseas limpiar la lista actual? Perder\xe1s todos los productos registrados.",buttons:["Cancelar","Limpiar"],dangerMode:!0}).then((function(e){e&&a([])}))},children:Object(u.jsx)("i",{className:"fas fa-times"})}),Object(u.jsx)("button",{className:"text-white mx-2 btn p-0",style:{textDecoration:"none"},title:"Exportar lista",onClick:function(){var e=localStorage.getItem("items"),t=JSON.parse(e);if(!t||t.length<=0)return j()({title:"No hay datos para descargar",text:"Aseg\xfarate de a\xf1adir productos a la lista antes de exportarla."});var a="data:text/json;charset=utf-8,".concat(encodeURIComponent(e)),s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download","".concat(Date.now(),"-lista.json")),s.classList.add("hidden"),document.body.append(s),s.click(),s.remove()},children:Object(u.jsx)("i",{className:"fas fa-download"})}),Object(u.jsx)("button",{className:"text-white mx-2 btn p-0",style:{textDecoration:"none"},title:"Importar lista","data-bs-toggle":"modal","data-bs-target":"#upload-modal",children:Object(u.jsx)("i",{className:"fas fa-upload"})})]})]})},O=function(e){var t=e.onSubmit,a=e.formState,s=e.onChange,n=e.resetForm;return Object(u.jsxs)("form",{onSubmit:t,className:"form-inline d-flex flex-sm-row flex-column align-items-center justify-content-between",children:[Object(u.jsxs)("div",{className:"form-group mb-3 me-1 w-100",children:[Object(u.jsx)("label",{className:"text-secondary",htmlFor:"name",children:"Nombre"}),Object(u.jsx)("input",{className:"form-control",type:"text",name:"name",value:a.name,onChange:s,placeholder:"Nombre del art\xedculo"})]}),Object(u.jsxs)("div",{className:"form-group mb-3 me-1 w-100",children:[Object(u.jsx)("label",{className:"text-secondary",htmlFor:"quantity",children:"Cantidad"}),Object(u.jsx)("input",{type:"number",min:"0",max:"99.999",step:"0.001",name:"quantity",className:"form-control",value:a.quantity,onChange:s,placeholder:"99.99"})]}),Object(u.jsxs)("div",{className:"form-group mb-3 me-1 w-100",children:[Object(u.jsx)("label",{className:"text-secondary",htmlFor:"Precio",children:"Precio"}),Object(u.jsx)("input",{type:"number",min:"0",max:"999999.999",step:"0.001",name:"price",className:"form-control",value:a.price,onChange:s,placeholder:"999999.999"})]}),Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-center my-2",children:[a.itemToEdit&&Object(u.jsx)("button",{type:"button",className:"btn btn-danger me-3",onClick:n,children:"Cancelar"}),Object(u.jsx)("button",{className:"btn btn-success",type:"submit",disabled:a.name.length<=0,children:a.itemToEdit?"Editar":"Agregar"})]})]})},p=function(e){var t=e.filter,a=e.setFilter;return Object(u.jsx)("div",{className:"d-flex flex-column align-items-center mb-4",children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar",onChange:function(e){var t=e.target;a(t.value)},value:t}),Object(u.jsx)("button",{type:"button",className:"btn btn-danger",disabled:!t.length,title:"Reiniciar B\xfasqueda",onClick:function(){a("")},children:Object(u.jsx)("i",{className:"fas fa-times"})})]})})},N=function(e){var t=e.setItems,a=Object(s.useState)(null),n=Object(m.a)(a,2),c=n[0],i=n[1];return Object(u.jsx)("div",{className:"modal",tabIndex:"-1",id:"upload-modal",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",children:"Importar lista"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"upload-file",children:"Archivo"}),Object(u.jsx)("input",{className:"form-control",type:"file",accept:"application/json",onChange:function(e){i(e.target.files[0])}})]}),Object(u.jsxs)("div",{className:"form-group mt-3 d-flex align-items-center justify-content-end",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary me-2","data-bs-dismiss":"modal",children:"Cerrar"}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary",form:"import-list",onClick:function(){var e=new FileReader;e.onload=function(e){t(JSON.parse(e.target.result))},e.readAsText(c)},"data-bs-dismiss":"modal",children:"Cargar"})]})]})})]})})})},g={name:"",quantity:"",price:"",itemToEdit:null},y=function(){var e=localStorage.getItem("items"),t=e?JSON.parse(e):[],a=Object(s.useState)(t),n=Object(m.a)(a,2),c=n[0],i=n[1],d=Object(s.useState)(c),x=Object(m.a)(d,2),y=x[0],v=x[1],w=Object(s.useState)(""),C=Object(m.a)(w,2),S=C[0],E=C[1],F=Object(s.useState)(g),q=Object(m.a)(F,2),I=q[0],k=q[1];Object(s.useEffect)((function(){localStorage.setItem("items",JSON.stringify(c))}),[c]),Object(s.useEffect)((function(){if(S.length>0){var e=c.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())}));v(e)}else v(c)}),[S,c]);var D=function(){k(g)},T=function(e,t){i(c.map((function(a){return a.id===e?t:a})))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f,{items:c,setItems:i}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"card mb-4",children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(O,{onSubmit:function(e){e.preventDefault();var t=I.name,a=I.quantity,s=I.price,n=I.itemToEdit;if(I.itemToEdit)T(n.id,{id:n.id,name:t.trim(),quantity:Number(a),price:Number(s)});else{var l={id:Object(b.a)(),name:t.trim(),quantity:Number(a),price:Number(s)};i([l].concat(Object(o.a)(c)))}D()},formState:I,onChange:function(e){var t=e.target;k((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(l.a)({},t.name,t.value))}))},resetForm:D})})}),Object(u.jsx)(p,{filter:S,setFilter:E}),Object(u.jsx)(h,{items:y,deleteItem:function(e){j()({title:"Eliminar",text:"\xbfDeseas eliminar el elemento seleccionado?",buttons:["Cancelar","Eliminar"],dangerMode:!0}).then((function(t){t&&i((function(t){return t.filter((function(t){return t.id!==e}))}))}))},setFormState:k})]}),Object(u.jsx)(N,{setItems:i})]})};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.b85ddf6a.chunk.js.map